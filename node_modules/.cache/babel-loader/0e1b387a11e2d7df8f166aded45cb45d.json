{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\NamPham\\\\Documents\\\\ReactJS\\\\webchat\\\\src\\\\Context\\\\AuthProvider.js\",\n    _s = $RefreshSig$();\n\nimport React, { createContext, useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { auth } from '../firebase/config';\nimport { Spin } from 'antd';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AuthContext = /*#__PURE__*/createContext();\n\nconst AuthProvider = children => {\n  _s();\n\n  const history = useNavigate();\n  const [user, setUser] = useState();\n  const [isLoading, setIsLoading] = useState(true);\n  useEffect(() => {\n    const unsubscibe = auth.onAuthStateChanged(user => {\n      console.log({\n        user\n      });\n\n      if (user || user == null) {\n        // const { displayName, email, userId, photoURL } = user;\n        setUser({\n          displayName,\n          email,\n          userId,\n          photoURL\n        });\n        setIsLoading(false);\n        history('/');\n      }\n\n      history('/login');\n    }); // Clean Function\n\n    return () => {\n      unsubscibe();\n    };\n  }, [history]);\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      user\n    },\n    children: isLoading ? /*#__PURE__*/_jsxDEV(Spin, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 23\n    }, this) : children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 7\n  }, this);\n};\n\n_s(AuthProvider, \"AMk8G4zlT5G2vhRccgrPQsr2Ta8=\", false, function () {\n  return [useNavigate];\n});\n\n_c = AuthProvider;\nexport default AuthProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["React","createContext","useEffect","useState","useNavigate","auth","Spin","AuthContext","AuthProvider","children","history","user","setUser","isLoading","setIsLoading","unsubscibe","onAuthStateChanged","console","log","displayName","email","userId","photoURL"],"sources":["C:/Users/NamPham/Documents/ReactJS/webchat/src/Context/AuthProvider.js"],"sourcesContent":["import React, { createContext, useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { auth } from '../firebase/config';\r\nimport { Spin } from 'antd'\r\n\r\nexport const AuthContext = createContext();\r\n\r\nconst AuthProvider = (children) => {\r\n   const history = useNavigate();\r\n\r\n   const [user, setUser] = useState();\r\n   const [isLoading, setIsLoading] = useState(true);\r\n\r\n   useEffect(() => {\r\n      const unsubscibe = auth.onAuthStateChanged((user) => {\r\n         console.log({user});\r\n         if (user || user == null) {\r\n            // const { displayName, email, userId, photoURL } = user;\r\n            setUser({\r\n               displayName , email, userId, photoURL\r\n            });\r\n            setIsLoading(false);\r\n            history('/');\r\n         }\r\n\r\n         history('/login');\r\n      });\r\n      \r\n      // Clean Function\r\n      return () => {\r\n         unsubscibe();\r\n      }\r\n   }, [history]);\r\n   \r\n\r\n   return ( \r\n      <AuthContext.Provider value={{ user }}>\r\n         {isLoading ? <Spin /> : children}\r\n      </AuthContext.Provider>\r\n    );\r\n}\r\n\r\nexport default AuthProvider;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,SAA/B,EAA0CC,QAA1C,QAA0D,OAA1D;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,IAAT,QAAqB,oBAArB;AACA,SAASC,IAAT,QAAqB,MAArB;;AAEA,OAAO,MAAMC,WAAW,gBAAGN,aAAa,EAAjC;;AAEP,MAAMO,YAAY,GAAIC,QAAD,IAAc;EAAA;;EAChC,MAAMC,OAAO,GAAGN,WAAW,EAA3B;EAEA,MAAM,CAACO,IAAD,EAAOC,OAAP,IAAkBT,QAAQ,EAAhC;EACA,MAAM,CAACU,SAAD,EAAYC,YAAZ,IAA4BX,QAAQ,CAAC,IAAD,CAA1C;EAEAD,SAAS,CAAC,MAAM;IACb,MAAMa,UAAU,GAAGV,IAAI,CAACW,kBAAL,CAAyBL,IAAD,IAAU;MAClDM,OAAO,CAACC,GAAR,CAAY;QAACP;MAAD,CAAZ;;MACA,IAAIA,IAAI,IAAIA,IAAI,IAAI,IAApB,EAA0B;QACvB;QACAC,OAAO,CAAC;UACLO,WADK;UACSC,KADT;UACgBC,MADhB;UACwBC;QADxB,CAAD,CAAP;QAGAR,YAAY,CAAC,KAAD,CAAZ;QACAJ,OAAO,CAAC,GAAD,CAAP;MACF;;MAEDA,OAAO,CAAC,QAAD,CAAP;IACF,CAZkB,CAAnB,CADa,CAeb;;IACA,OAAO,MAAM;MACVK,UAAU;IACZ,CAFD;EAGF,CAnBQ,EAmBN,CAACL,OAAD,CAnBM,CAAT;EAsBA,oBACG,QAAC,WAAD,CAAa,QAAb;IAAsB,KAAK,EAAE;MAAEC;IAAF,CAA7B;IAAA,UACIE,SAAS,gBAAG,QAAC,IAAD;MAAA;MAAA;MAAA;IAAA,QAAH,GAAcJ;EAD3B;IAAA;IAAA;IAAA;EAAA,QADH;AAKF,CAjCD;;GAAMD,Y;UACaJ,W;;;KADbI,Y;AAmCN,eAAeA,YAAf"},"metadata":{},"sourceType":"module"}